@{
    ViewBag.Title = "会员促销规则设置";
    var listApproveStatus = new SelectListItem[]{
        new SelectListItem{Text="全部",Value=""},
        new SelectListItem{Text="未审核",Value="0"},
        new SelectListItem{Text="已审核",Value="1"},
        new SelectListItem{Text="已作废",Value="2"},
    };
    var listExecuteStatus = new SelectListItem[]{
        new SelectListItem{Text="全部",Value=""},
        new SelectListItem{Text="未开始",Value="0"},
        new SelectListItem{Text="休眠中",Value="1"},
        new SelectListItem{Text="执行中",Value="2"},
        new SelectListItem{Text="已结束",Value="3"},
    };
}

<div class="row-fluid heading">
    <div class="pull-left">
        <h3>会员促销规则管理</h3>
    </div>

</div>
<div class="sepH_c row-fluid">
    <div class="form-inline well">
        <div class="span3">
            <label class="title-left sepV_a ml10">促销单号</label>
            <input type="text" id="txtCode" class="input-medium span12">
        </div>
        <div class="span3">
            <label class="title-left sepV_a ml10">促销模板</label>
            <select id="drpRuleType" class="span12"></select>
        </div>
        <div class="span3">
            <label class="title-left sepV_a ml10">审核状态</label>
            @Html.DropDownList("drpApproveStatus", listApproveStatus, new { id = "drpApproveStatus", @class = "span12 sepV_b" })
        </div>
        <div class="span3">
            <label class="title-left sepV_a ml10">执行状态</label>
            @Html.DropDownList("drpExecuteStatus", listExecuteStatus, new { id = "drpExecuteStatus", @class = "span12 sepV_b" })
        </div>
        <div class="q_btn">
            <button id="btnSearch" class="btn">查询</button>
            <button id="btnAdd" class="btn">新建</button>
        </div>
    </div>
    <table class="table" data-provides="rowlink" id="dt_Rule"></table>
</div>

@using (Ajax.BeginForm(null, null, new AjaxOptions { }, new { id = "form1", @class = "hide", @Action = "/MemberSalesPromotion/PromotionSettingGift" }))
{
    <input id="hideRuleID" name="hideRuleID" type="text" />
    <input id="hideCode" value="@Session["hideCode"].ToString()" name="hideCode" type="text" />
    <input id="hideRuleType" value="@Session["hideRuleType"].ToString()" name="hideRuleType" type="text" />
    <input id="hideApproveStatus" value="@Session["hideApproveStatus"].ToString()" name="hideApproveStatus" type="text" />
    <input id="hideExecuteStatus" value="@Session["hideExecuteStatus"].ToString()" name="hideExecuteStatus" type="text" />
}
@section Scripts{
    @System.Web.Optimization.Scripts.Render("~/Gebo/lib/validation/jquery.validate.js", "~/Scripts/Framework/jquery.validate.extend.js")
    @System.Web.Optimization.Scripts.Render("~/Scripts/Pages/MemberSalesPromotion/Promotion.js")
}
