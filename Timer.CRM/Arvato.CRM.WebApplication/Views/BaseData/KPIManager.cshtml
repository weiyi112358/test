@{
    ViewBag.Title = "KPI计算设置";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row-fluid heading">
    <div class="pull-left">
        <h3>@ViewBag.Title</h3>
    </div>
</div>

<div class="row-fluid">
    <div class="form-inline well">
        <div class="span3">
            <label class="title-left sepV_a">KPI名称</label>
            <input type="text" class="input-medium span12" id="kpiname">
        </div>
        <div class="span3">
            <label class="ml10 title-left sepV_a">KPI类型</label>
            <select class="span12 sepV_b" id="drpkpitype"></select>
        </div>
        <div class="q_btn">
            <button class="btn" id="btnSearch">查询</button>
            <button class="btn" id="btnClear">清空</button>
            <button class="btn" onclick="goEdit('')">新建</button>
        </div>
    </div>
</div>


<div class="row-fluid">
    <table class="table" data-provides="rowlink" id="dt_kpi"></table>
</div>

<div class="hide">
    <div id="table_editdimension" class="cbox_content popComMedium">
        <div class="modal-header">
            <h3>KPI编辑</h3>
        </div>
        @using (Ajax.BeginForm(null, null, new AjaxOptions { }, new { id = "frmEditKPI" }))
        {
            <div class="modal-body">
                <div class="formSep">
                    <div class="form-inline sepH_b ">
                        <div class="row-fluid sepH_b">
                            <div class="span3">
                                <label class="ml10">KPI名称</label>
                                <input type="text" class="span11" id="txt_kpiname" name="txt_kpiname">
                                <span class="error-block"></span>
                            </div>

                            <div class="span3">
                                <label class="ml10">KPI类型</label>
                                <select class="span11" id="drp_kpitype" name="drp_kpitype">
                                </select>
                                <span class="error-block"></span>
                            </div>
                            <div class="span3">
                                <label class="ml10">KPI单位</label>
                                <input type="text" class="span11" id="txt_kpiunit" name="txt_kpiunit">
                                <span class="error-block"></span>
                            </div>
                            <div class="span3">
                                <label class="ml10">KPI目标值类型</label>
                                <select class="span11" id="drp_kpitargetvaluetype" name="drp_kpitargetvaluetype"></select>
                                <span class="error-block"></span>
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span12">
                                <label>脚本</label>
                                <textarea rows="9" class="span12" id="txt_script" name="txt_script"></textarea>
                                <span class="error-block"></span>
                            </div>
                        </div>
                        <input type="hidden" id="hd_addeduser" />
                        <input type="hidden" id="hd_adddedate" />
                    </div>
                </div>
            </div>
            <input type="hidden" value="0" id="hd_edit" />
            <div class="modal-footer">
                <button type="submit" class="btn btn-info" id="btnSave">保存</button>
                <button type="button" class="btn" id="btn_clear">清空</button>
                <button id="" type="button" class="btn" onclick="$.colorbox.close();">取消</button>
            </div>

        }
    </div>
</div>

@section Scripts{
    @System.Web.Optimization.Scripts.Render("~/Gebo/lib/validation/jquery.validate.js", "~/Scripts/Framework/jquery.validate.extend.js")
    @System.Web.Optimization.Scripts.Render("~/Scripts/Pages/BaseData/KPIManager.js")
}
