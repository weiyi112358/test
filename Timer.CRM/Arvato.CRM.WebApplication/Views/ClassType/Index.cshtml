@{
    ViewBag.Title = "自定义类型维护";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@System.Web.Optimization.Styles.Render("~/VGebo/multi-select.css")
@System.Web.Optimization.Styles.Render("~/VGebo/chosen.css")

<div class="row-fluid heading">
    <div class="pull-left">
        <h3>@ViewBag.Title</h3>
    </div>
</div>

<div class="form-inline  well">
    <label>自定义名称</label>
    <input type="text" class="input-medium" id="classname">
    <label class="ml10">类型</label>
    <select class="span2 sepV_b" id="drpclasstype"></select>
    <button class="btn" id="btnSearch">查询</button>
    <button class="btn" id="btnClear">清空</button>
    <button class="btn" onclick="goEdit('')">新建</button>
</div>

<div class="row-fluid">
    <table class="table" data-provides="rowlink" id="dt_classtype"></table>
</div>

<div class="hide">
    <div id="table_editdimension" class="cbox_content popComMedium" style="height:300px;">
        <div class="modal-header">
            <h3>自定义类型编辑</h3>
        </div>
        @using (Ajax.BeginForm(null, null, new AjaxOptions { }, new { id = "frmEditClassType" }))
        {
            <div class="modal-body" style="height:180px;">
                <div class="formSep">
                    <div class="form-inline sepH_b ">
                        <div class="row-fluid sepH_b">
                            <div class="span3">
                                <label class="ml10">自定义名称</label><input id="isAdmin" type="hidden" value="@ViewBag.Role" /><input id="uDataGroupID" type="hidden" value="@ViewBag.dataGroupID" />
                                <input type="text" class="span11" id="txt_classname" name="txt_classname">
                                <span class="error-block"></span>
                            </div>

                            <div class="span3">
                                <label class="ml10">类型</label>
                                <select class="span11" id="drp_classtype" name="drp_classtype">
                                </select>
                                <span class="error-block"></span>
                            </div>
                         
                           @* <div class="span6">
                              <label>群组</label>
                              <select id="drp_datagroups" name="drp_datagroups" multiple data-placeholder="请选择..." class="span12" onchange="initRoleAndUser()">
                              </select>
                             <span class="error-block"></span>
                            </div>*@
                            <div class="span3">
                                <label class="群组">类型</label>
                                <select class="span11" id="drp_datagroups" name="drp_datagroups" onchange="initRoleAndUser()">
                                </select>
                                <span class="error-block"></span>
                            </div>
                        </div>
                        <div class="row-fluid" id="roleanduser" style="display:none;">
                            <div class="span6">
                              <label>角色</label>
                              <select id="drp_dataroles" name="drp_dataroles" multiple data-placeholder="请选择..." class="span12" style="width:336px;" onchange="disableUser()">
                              </select>
                             <span class="error-block"></span>
                            </div>
                            <div class="span6">
                              <label>用户</label>
                                <select id="drp_datausers" name="drp_datausers" multiple data-placeholder="请选择..." class="span12" style="width:351px;" onchange="disableRole()"></select>
                             <span class="error-block"></span>
                           </div>
                        </div>
                        
                        <input type="hidden" id="hd_addeduser" />
                        <input type="hidden" id="hd_adddedate" />
                    </div>
                </div>
            </div>
            <input type="hidden" value="0" id="hd_edit" />
            <div class="pull-right">
                <button type="submit" class="btn btn-info" id="btnSave">保存</button>
                <button type="button" class="btn" id="btn_clear">清空</button>
            </div>

        }
    </div>
</div>

@section Scripts{
    @System.Web.Optimization.Scripts.Render("~/Gebo/lib/validation/jquery.validate.js", "~/Scripts/Framework/jquery.validate.extend.js")
   @System.Web.Optimization.Scripts.Render("~/Gebo/lib/multi-select/js/jquery.multi-select.js", "~/Gebo/lib/multi-select/js/jquery.quicksearch.js", "~/Gebo/lib/chosen/chosen.jquery.min.js")
     @System.Web.Optimization.Scripts.Render("~/Scripts/Pages/ClassType/Index.js")
}
